(this["webpackJsonpgoit-react-hw-03-image-finder"]=this["webpackJsonpgoit-react-hw-03-image-finder"]||[]).push([[0],{10:function(e,t,a){e.exports={backDrop:"Modal_backDrop__o9pjg",content:"Modal_content__1XouO",img:"Modal_img__22i9_"}},11:function(e,t,a){e.exports={searchForm:"SearchForm_searchForm__2SOZC",searchInput:"SearchForm_searchInput__18hU9"}},2:function(e,t,a){e.exports={galleryItem:"GalleryItem_galleryItem__3yPYk",itemImg:"GalleryItem_itemImg__1p-Ew",stats:"GalleryItem_stats__30NXv",statsItem:"GalleryItem_statsItem__12n6w",fullscreenButton:"GalleryItem_fullscreenButton__3yCYK",buttonIcon:"GalleryItem_buttonIcon__1eoLx"}},26:function(e,t,a){e.exports={spinner:"Spinner_spinner__21-z2"}},28:function(e,t,a){e.exports={button:"Button_button__1f6mj"}},29:function(e,t,a){e.exports={gallery:"Gallery_gallery__2kJ4Y"}},30:function(e,t,a){e.exports={text:"TextError_text__2hzKC"}},31:function(e,t,a){e.exports={app:"App_app__3D29V"}},33:function(e,t,a){e.exports=a(82)},81:function(e,t,a){},82:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(8),l=a.n(o),s=a(14),c=a(3),i=a(4),m=a(5),u=a(6),d=a(25),p=a.n(d),g=a(26),f=a.n(g),h=function(){return r.a.createElement(p.a,{className:f.a.spinner,name:"ball-grid-pulse",color:"green",fadeIn:"none"})},v=a(27),_=a.n(v),b=a(9),y=a.n(b),E={},k=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={loaded:E[e.props.src]},e.onLoad=function(){E[e.props.src]=!0,e.setState((function(){return{loaded:!0}}))},e}return Object(i.a)(a,[{key:"render",value:function(){var e=this.props,t=e.className,a=e.loadedClassName,n=e.loadingClassName;return t="".concat(t," ").concat(this.state.loaded?a:n),r.a.createElement("img",{src:this.props.src,onClick:this.props.onClick,className:t,onLoad:this.onLoad,alt:"fullscreenimage"})}}]),a}(n.Component);k.defaultProps={className:"",loadingClassName:y.a.imgLoading,loadedClassName:y.a.imgLoaded};var I=a(10),C=a.n(I),N=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(c.a)(this,a);for(var r=arguments.length,o=new Array(r),l=0;l<r;l++)o[l]=arguments[l];return(e=t.call.apply(t,[this].concat(o))).backdropRef=Object(n.createRef)(),e.handleKeyPress=function(t){"Escape"===t.code&&e.props.onClose()},e.handleBackDropClick=function(t){var a=e.backdropRef.current;a&&a!==t.target||e.props.onClose()},e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){window.addEventListener("keydown",this.handleKeyPress)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keydown",this.handleKeyPress)}},{key:"render",value:function(){var e=this.props.imgUrl;return r.a.createElement("div",{className:C.a.backDrop,ref:this.backdropRef,onClick:this.handleBackDropClick,onKeyPress:function(){}},r.a.createElement("div",{className:C.a.content},r.a.createElement(_.a,null,r.a.createElement(k,{src:e}))))}}]),a}(n.Component),w=a(11),L=a.n(w),S=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={value:""},e.handleChange=function(t){var a=t.target.value;e.setState({value:a})},e.handleSubmit=function(t){t.preventDefault();var a=e.state.value;(0,e.props.onSubmit)(a),e.reset()},e.reset=function(){return e.setState({value:""})},e}return Object(i.a)(a,[{key:"render",value:function(){var e=this.state.value;return r.a.createElement("form",{className:L.a.searchForm,onSubmit:this.handleSubmit},r.a.createElement("input",{onChange:this.handleChange,className:L.a.searchInput,type:"text",autoComplete:"off",placeholder:"Search images...",value:e}))}}]),a}(n.Component),O=a(28),j=a.n(O),x=function(e){var t=e.onClick;return r.a.createElement("button",{type:"button",onClick:t,className:j.a.button},"Load More")},M=a(29),F=a.n(M),D=a(2),U=a.n(D),G=function(e){var t=e.largeImageURL,a=e.webformatURL,n=e.likes,o=e.views,l=e.comments,s=e.downloads,c=e.tags,i=e.onClick;return r.a.createElement("li",{className:U.a.galleryItem,"data-fullviewimg":t},r.a.createElement("img",{className:U.a.itemImg,src:a,alt:c}),r.a.createElement("div",{className:U.a.stats},r.a.createElement("p",{className:U.a.statsItem},r.a.createElement("i",{className:"material-icons"},"thumb_up"),n),r.a.createElement("p",{className:U.a.statsItem},r.a.createElement("i",{className:"material-icons"},"visibility"),o),r.a.createElement("p",{className:U.a.statsItem},r.a.createElement("i",{className:"material-icons"},"comment"),l),r.a.createElement("p",{className:U.a.statsItem},r.a.createElement("i",{className:"material-icons"},"cloud_download"),s),r.a.createElement("p",{className:U.a.statsItem},r.a.createElement("i",{className:"material-icons"},"tags"),s)),r.a.createElement("button",{onClick:function(){return i(t)},type:"button",className:U.a.fullscreenButton},r.a.createElement("i",{className:"material-icons"},"zoom_out_map")))},P=function(e){var t=e.items,a=e.onClick;return r.a.createElement(r.a.Fragment,null,r.a.createElement("ul",{className:F.a.gallery},t.map((function(e){return r.a.createElement(G,Object.assign({key:e.id},e,{onClick:a}))}))))},R=a(30),B=a.n(R),K=function(e){var t=e.children;return r.a.createElement("p",{className:B.a.text},t)},A=a(31),z=a.n(A),J=a(12),T=a.n(J),Y=a(32),q=a(13),H=a.n(q);H.a.defaults.baseURL="https://pixabay.com/api/";var W=function(){var e=Object(Y.a)(T.a.mark((function e(t,a){var n;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,H.a.get("?image_type=photo&orientation=horizontal&q=".concat(t,"&page=").concat(a,"&per_page=12&key=").concat("1014829-71a7f403d3f00bee795338530"));case 2:return n=e.sent,e.next=5,new Promise((function(e){return setTimeout((function(){e(n.data)}),500)}));case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),X=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){var e;Object(c.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={images:[],isLoading:!1,error:null,notFound:!1,page:2,isModal:!1,fullviewimg:"",value:""},e.handleFetchedImages=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"cat",a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"1";e.setState({isLoading:!0,value:t}),W(t,a).then((function(t){return 0===t.hits.length?e.setState({images:[],notFound:!0}):e.setState({images:t.hits,notFound:!1,error:null,page:2})})).catch((function(t){e.setState({error:t})})).finally((function(){return e.setState({isLoading:!1})}))},e.handleLoadMore=function(){e.setState({isLoading:!0});var t=e.state,a=t.value,n=t.page;W(a,n).then((function(t){e.setState((function(e){return{images:[].concat(Object(s.a)(e.images),Object(s.a)(t.hits)),page:e.page+1,error:null}}))})).catch((function(t){e.setState({error:t})})).finally((function(){return e.setState({isLoading:!1})}))},e.handleCloseModal=function(){return e.setState({isModal:!1})},e.handleOpenModal=function(t){return e.setState({isModal:!0,fullviewimg:t})},e.hanleLoader=function(){e.setState({isLoading:!0})},e}return Object(i.a)(a,[{key:"componentDidUpdate",value:function(e,t){var a=this.state.images;t.images!==a&&window.scrollTo({top:document.body.scrollHeight,behavior:"smooth"})}},{key:"render",value:function(){var e=this.state,t=e.images,a=e.isLoading,n=e.error,o=e.notFound,l=e.isModal,s=e.fullviewimg;return r.a.createElement("div",{className:z.a.app},r.a.createElement(S,{onSubmit:this.handleFetchedImages}),!!t.length&&r.a.createElement(r.a.Fragment,null,r.a.createElement(P,{items:t,onClick:this.handleOpenModal}),r.a.createElement(x,{onClick:this.handleLoadMore})),a&&r.a.createElement(h,null),o&&r.a.createElement(K,null,"Not Found images! "),n&&r.a.createElement(K,null,"Whoops, something went wrong: ",n.message," "),l&&r.a.createElement(N,{onClose:this.handleCloseModal,imgUrl:s}))}}]),a}(n.Component);a(81);l.a.render(r.a.createElement(X,null),document.querySelector("#root"))},9:function(e,t,a){e.exports={imgLoading:"ImageLoader_imgLoading__2IQe0",imgLoaded:"ImageLoader_imgLoaded__ng3UH",fadeInImg:"ImageLoader_fadeInImg__8LliS"}}},[[33,1,2]]]);
//# sourceMappingURL=main.980b1592.chunk.js.map